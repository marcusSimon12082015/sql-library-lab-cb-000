
creating schema
  series table
    creates a series table with a title field
    creates a series table with a author_id field
    creates a series table with a subgenre_id field
    creates a series table with an id as a primary key
  subgenres table
    creates a subgenres table with a name field
    creates a subgenres table with an id as a primary key
  authors table
    creates a authors table with a name field
    creates a authors table with an id as a primary key
  books table
    creates a books table with a title field
    creates a books table with a year field
    creates a books table with a series_id field
    creates a books table with an id as a primary key
  characters table
    creates a characters table with a name field
    creates a characters table with a species field
    creates a characters table with a motto field
    creates a characters table with a series_id field
    creates a characters table with a author_id field
    creates a characters table with an id as a primary key
  character_books join table
    creates a character_books table with an id as a primary key
    creates a character_books table with a book_id field
    creates a character_books table with a character_id field

inserting
  has 2 series
  has 6 books
  has 8 characters
  has 2 subgenres
  has 2 authors
  has 16 joins in character_books

updating
  updates the species of the last character in the characters table to "Martian"

querying
  selects all of the books titles and years in the first series and orders them chronologically
  returns the name and motto of the character with the longest motto (FAILED - 1)

Failures:

  1) querying returns the name and motto of the character with the longest motto
     Failure/Error: expect(@db.execute(select_name_and_motto_of_char_with_longest_motto)).to eq([["Tyrion Lannister", "A Lannister always pays his debts"]])
     SQLite3::SQLException:
       near "Write": syntax error
     # /usr/local/rvm/gems/ruby-2.3.1/gems/sqlite3-1.3.9/lib/sqlite3/database.rb:91:in `initialize'
     # /usr/local/rvm/gems/ruby-2.3.1/gems/sqlite3-1.3.9/lib/sqlite3/database.rb:91:in `new'
     # /usr/local/rvm/gems/ruby-2.3.1/gems/sqlite3-1.3.9/lib/sqlite3/database.rb:91:in `prepare'
     # /usr/local/rvm/gems/ruby-2.3.1/gems/sqlite3-1.3.9/lib/sqlite3/database.rb:134:in `execute'
     # ./spec/04_querying_spec.rb:14:in `block (2 levels) in <top (required)>'

Finished in 0.03955 seconds (files took 0.34138 seconds to load)
30 examples, 1 failure

Failed examples:

rspec ./spec/04_querying_spec.rb:13 # querying returns the name and motto of the character with the longest motto
